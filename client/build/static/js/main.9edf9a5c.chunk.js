(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{157:function(e,t,a){e.exports=a(299)},163:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(45),l=a(36),c=(a(162),a(163),a(16)),s=a(17),o=a(19),u=a(18),m=a(20),d=a(47),p=a(313),h=a(312),f=a(316),E=a(307),b=a(314),g=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{inverted:!0,vertical:!0,style:{padding:"1em 0em"}},r.a.createElement(h.a,{inverted:!0,size:"large",secondary:!0},r.a.createElement(f.a,{transitionOnMount:!0,animation:"fade left",duration:1e3},r.a.createElement(E.a,{fluid:!0,style:{padding:"0em 5em"}},r.a.createElement(b.a,{size:"huge",as:l.c,to:"/",inverted:!0},"NTUSecrets")))))}}]),t}(n.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{vertical:!0,textAlign:"center"},r.a.createElement("p",{style:{whiteSpace:"pre"}},"(\u0254) 2019-present"),r.a.createElement("p",null,"NTUSecret - \u7ba1\u7406Facebook\u533f\u540d\u9801\u9762\u6700\u512a\u8cea\u7684\u670d\u52d9"))}}]),t}(n.Component),j=a(310),v=a(308),y=a(315),k=a(300),x=a(79),C=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.successful?r.a.createElement(f.a,{visible:this.props.visible,animation:"scale",duration:500},r.a.createElement(j.a,{positive:!0},r.a.createElement(j.a.Header,null,"Submit Successful"),r.a.createElement("p",null,"please copy your ",r.a.createElement("b",null,"uuid")," as following:"),r.a.createElement("p",null,r.a.createElement("b",null,this.props.uuid)),r.a.createElement("p",null,"note: that uuid is not recoverable, keep them for futher modification of your posts"))):r.a.createElement(f.a,{visible:this.props.visible,animation:"scale",duration:500},r.a.createElement(j.a,{negative:!0},r.a.createElement(j.a.Header,null,"Something went wrong"),this.props.err?this.props.err:r.a.createElement("p",null,"please contact the site admin")))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){a.setState({text:e.target.value})},a.state={text:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{rows:10,placeholder:"type something",style:{width:"100%",resize:"none",padding:"1em",fontSize:"1.5em"},onInput:this.handleInput})}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).recaptchaOnChange=function(e){a.recaptok=e},a.ClickHandler=function(){if(!0!==a.state.loading){a.setState({loading:!0});var e=encodeURI(a.textInput.current.state.text);""!==e?a.recaptok?(fetch("/api/posts",{method:"POST",headers:{Accept:"*/*","Content-Type":"application/json"},body:JSON.stringify({message:e,verifytoken:a.recaptok})}).then(function(e){return e.json()}).catch(function(e){return a.setState({submited:!0,loading:!1,successful:!1,errormsg:r.a.createElement("p",null,e.message)})}).then(function(e){e.uuid?a.setState({loading:!1,submited:!0,successful:!0,uuid:e.uuid}):a.setState({submited:!0,loading:!1,successful:!1,errormsg:r.a.createElement("p",null,e.message)})}),a.recap.current.reset(),a.recaptok=null):a.setState({submited:!0,loading:!1,successful:!1,errormsg:r.a.createElement("p",null,"please verify that you are not robot")}):a.setState({submited:!0,loading:!1,successful:!1,errormsg:r.a.createElement("p",null,"empty string")})}},a.state={loading:!1,submited:!1,successful:!1,errormsg:null},a.textInput=r.a.createRef(),a.recap=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{transitionOnMount:!0,animation:"fade left",duration:1e3},r.a.createElement(E.a,{text:!0,textAlign:"center",style:{margin:"5em 0em"}},r.a.createElement(p.a.Group,{raised:!0},r.a.createElement(p.a,{textAlign:"center"},r.a.createElement(b.a,{as:"h1"},"Enter New Text")),r.a.createElement(p.a,{textAlign:"center"},r.a.createElement(S,{ref:this.textInput})),r.a.createElement(p.a,null,r.a.createElement(E.a,{style:{padding:"1em 0em"}},r.a.createElement(y.a,{centered:!0,columns:2},r.a.createElement(y.a.Column,null,r.a.createElement(x.a,{theme:"dark",sitekey:"6LeQDqQUAAAAAE-ixw9HmyC4GNB-GSPxEuBYARAJ",onChange:this.recaptchaOnChange,ref:this.recap})))),r.a.createElement(E.a,{fluid:!0,textAlign:"center"},r.a.createElement(k.a,{loading:this.state.loading,color:"black",type:"submit",fluid:!0,size:"large",onClick:this.ClickHandler},"Submit")),r.a.createElement(C,{visible:this.state.submited,successful:this.state.successful,uuid:this.state.uuid,err:this.state.errormsg})))))}}]),t}(n.Component),A=a(309),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({text:e.target.value})},a.state={text:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(A.a,{fluid:!0,placeholder:"enter uuid",style:{fontSize:"1.5em"},onChange:this.handleChange})}}]),t}(n.Component),R=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{visible:this.props.visible,animation:"scale",duration:500},r.a.createElement(j.a,{negative:!0},r.a.createElement(j.a.Header,null,"Something went wrong"),this.props.err?this.props.err:r.a.createElement("p",null,"please contact the site admin")))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).recaptchaOnChange=function(e){a.recaptok=e},a.ClickHandler=function(){if(!0!==a.state.loading){var e,t=a.textInput.current.state.text;if(a.setState({loading:!0}),""!==t)if(a.recaptok)fetch("/api/posts/"+t+"/"+a.recaptok).then(function(t){return e=t.ok,t.json()}).then(function(n){e?a.setState({uuid:t}):(console.log(n.message),a.setState({err:!0,loading:!1,errormsg:r.a.createElement("p",null,n.message)}))});else a.setState({err:!0,loading:!1,errormsg:r.a.createElement("p",null,"please verify that you are not robot")});else a.setState({err:!0,loading:!1,errormsg:r.a.createElement("p",null,"empty uuid")})}},a.state={loading:!1,err:!1,uuid:null,errormsg:null},a.textInput=r.a.createRef(),a.recap=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.uuid?r.a.createElement(d.a,{to:"/editpost/"+this.state.uuid+"/"+this.recaptok}):r.a.createElement(f.a,{transitionOnMount:!0,animation:"fade left",duration:1e3},r.a.createElement(E.a,{text:!0,textAlign:"center",style:{margin:"5em 0em"}},r.a.createElement(p.a.Group,{raised:!0},r.a.createElement(p.a,{textAlign:"center"},r.a.createElement(b.a,{as:"h1"},"Enter Post UUID")),r.a.createElement(p.a,{textAlign:"center"},r.a.createElement(I,{ref:this.textInput})),r.a.createElement(p.a,null,r.a.createElement(E.a,{style:{padding:"1em 0em"}},r.a.createElement(y.a,{centered:!0,columns:2},r.a.createElement(y.a.Column,null,r.a.createElement(x.a,{theme:"dark",sitekey:"6LeQDqQUAAAAAE-ixw9HmyC4GNB-GSPxEuBYARAJ",onChange:this.recaptchaOnChange,ref:this.recap})))),r.a.createElement(E.a,{fluid:!0,textAlign:"center"},r.a.createElement(k.a,{loading:this.state.loading,color:"black",type:"submit",fluid:!0,size:"large",onClick:this.ClickHandler},"Submit")),r.a.createElement(R,{visible:this.state.err,err:this.state.errormsg})))))}}]),t}(n.Component),U=a(48),H=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{vertical:!0},r.a.createElement(E.a,{text:!0,style:{margin:"5em 0em"}},r.a.createElement(y.a,{centered:!0},r.a.createElement(y.a.Row,null,r.a.createElement(f.a,{transitionOnMount:!0,animation:"fade left",duration:1e3},r.a.createElement(k.a,{fluid:!0,color:"black",animated:"vertical",size:"massive",as:l.b,to:"/editpost"},r.a.createElement(k.a.Content,{visible:!0},"Edit Post"),r.a.createElement(k.a.Content,{hidden:!0},r.a.createElement(U.a,{name:"arrow right"}))))),r.a.createElement(y.a.Row,null,r.a.createElement(f.a,{transitionOnMount:!0,animation:"fade left",duration:1e3},r.a.createElement(k.a,{animated:"vertical",fluid:!0,color:"black",size:"massive",as:l.b,to:"/newpost"},r.a.createElement(k.a.Content,{visible:!0},"New Post"),r.a.createElement(k.a.Content,{hidden:!0},r.a.createElement(U.a,{name:"arrow right"}))))))))}}]),t}(n.Component),D=a(311),T=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.successful?r.a.createElement(f.a,{visible:this.props.visible,animation:"scale",duration:500},r.a.createElement(j.a,{positive:!0},r.a.createElement(j.a.Header,null,"Successfully Executed"))):r.a.createElement(f.a,{visible:this.props.visible,animation:"scale",duration:500},r.a.createElement(j.a,{negative:!0},r.a.createElement(j.a.Header,null,"Error"),r.a.createElement("p",null,this.props.errmsg?this.props.errmsg:"something went wrong...")))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){a.setState({text:e.target.value})},a.state={text:a.props.content},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{rows:10,placeholder:"type something",defaultValue:this.props.content,style:{width:"100%",resize:"none",padding:"1em",fontSize:"1.5em"},onInput:this.handleInput})}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).TryDecodeURI=function(e){try{return decodeURI(e)}catch(t){return e}},a.onSubmitClick=function(){if(!a.state.sloading&&!0!==a.state.dloading&&a.state.fetched){var e,t=a.props.match.params,n=t.id,r=t.authtok,i=a.textInput.current.state.text;a.setState({sloading:!0}),fetch("/api/posts/"+n+"/"+r+"/"+encodeURI(i),{method:"PUT"}).then(function(t){return e=t.ok,t.json()}).then(function(t){e?a.setState({sloading:!1,submited:!0,successful:!0}):a.setState({sloading:!1,submited:!0,successful:!1,message:t.message})})}},a.onDeleteClick=function(){if(!a.state.sloading&&!0!==a.state.dloading&&a.state.fetched){var e,t=a.props.match.params,n=t.id,r=t.authtok;a.setState({dloading:!0}),fetch("/api/posts/"+n+"/"+r,{method:"DELETE"}).then(function(t){return e=t.ok,t.json()}).then(function(t){e?a.setState({dloading:!1,submited:!0,successful:!0}):a.setState({dloading:!1,submited:!0,successful:!1,message:t.message})})}},a.state={fetched:null,dloading:!1,sloading:!1,submited:!1,message:null,successful:null},a.textInput=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params,n=a.id,r=a.authtok;fetch("/api/posts/"+n+"/"+r+"/message").then(function(t){return e=t.ok,t.json()}).then(function(a){t.setState({message:a.message,fetched:e})})}},{key:"render",value:function(){var e,t=this;return e=!0===this.state.fetched?function(){return r.a.createElement(L,{content:t.TryDecodeURI(t.state.message),ref:t.textInput})}:!1===this.state.fetched?function(){return r.a.createElement(T,{successful:!1,visible:!0,errmsg:t.state.message})}:function(){return r.a.createElement(D.a,null,r.a.createElement(D.a.Line,null),r.a.createElement(D.a.Line,null),r.a.createElement(D.a.Line,null),r.a.createElement(D.a.Line,null),r.a.createElement(D.a.Line,null))},r.a.createElement(f.a,{transitionOnMount:!0,animation:"fade left",duration:1e3},r.a.createElement(E.a,{text:!0,textAlign:"center",style:{margin:"5em 0em"}},r.a.createElement(p.a.Group,{raised:!0},r.a.createElement(p.a,{textAlign:"center"},r.a.createElement(b.a,{as:"h1"},"Edit Post")),r.a.createElement(p.a,{textAlign:"center"},r.a.createElement(e,null)),r.a.createElement(p.a,null,r.a.createElement(E.a,{fluid:!0},r.a.createElement(h.a,{secondary:!0},r.a.createElement(h.a.Item,{position:"left"},r.a.createElement(k.a,{loading:this.state.dloading,color:"red",type:"submit",size:"large",onClick:this.onDeleteClick}," Delete ")),r.a.createElement(h.a.Item,{position:"right"},r.a.createElement(k.a,{loading:this.state.sloading,color:"black",type:"submit",size:"large",onClick:this.onSubmitClick}," Submit Edited ")))),r.a.createElement(T,{visible:this.state.submited,successful:this.state.successful,errmsg:this.state.message})))))}}]),t}(n.Component),G=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(function(){return r.a.createElement(p.a,{vertical:!0},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:H}),r.a.createElement(d.b,{path:"/newpost",component:w}),r.a.createElement(d.b,{exact:!0,path:"/editpost",component:z}),r.a.createElement(d.b,{exact:!0,path:"/editpost/:id/:authtok",component:P})))},null),r.a.createElement(O,null))}}]),t}(n.Component);Object(i.render)(r.a.createElement(l.a,null,r.a.createElement(G,null)),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.9edf9a5c.chunk.js.map